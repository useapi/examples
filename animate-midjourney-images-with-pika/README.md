## Animate images generated by Midjourney using Pika (using webhook)

### Introduction

This article covers the entire process of animating images using the [Pika Discord Bot](https://discord.gg/pika) by [Pika.art](https://pika.art). Pika currently support text and images as input for video generation, and private generations by directly messaging the bot. We will be generating images using the [/imagine](https://docs.midjourney.com/docs/quick-start#5-use-the-imagine-command) command from [Midjourney](https://midjourney.com). Finally to access and control both Pika and Midjourney we will be using unofficial API provided by [useapi.net](https://useapi.net).

We will explore methods to efficiently execute both tasks with minimal effort.   

Please check out the [YouTube video](https://youtu.be/<>) showcasing the final results of these generations from this article.

This article explains how to use a `webhook` to retrieve generated results and how to structure a basic query to feed requests to the API. This approach is much more performant and consumes fewer resources.

### Setup 

We will use the unofficial API provided by [useapi.net](https://useapi.net) to interact with both Midjourney and Pika.

#### Midjourney

To get started, you'll need a Discord account with an active [Midjourney subscription](https://docs.midjourney.com/docs/plans#plan-comparison). The $10 Basic Plan will suffice.

Follow these [simple steps](https://useapi.net/docs/start-here) to obtain the following:

- Discord server id number, referred to in this article as `server`.
- Discord channel id number, referred to in this article as `channel`.
- Discord token, referred to in this article as `discord`. [Verify Discord access](https://useapi.net/docs/start-here/setup-midjourney#verify-discord-access).
- [useapi.net](https://useapi.net) API token, referred to in this article as `token`. [Verify useapi.net API access](https://useapi.net/docs/start-here/setup-useapi#verify-useapinet-api-access).

#### Pika

The Pika Midjourney bot is currently free, and the setup process is very similar to one above. Please refer to the [Pika setup steps](https://useapi.net/docs/start-here/setup-pika). Since you have already retrieved your Discord token during the Midjourney setup you only need to identify channel for Pika Direct Messages.

Useapi.net provides an easy way to experiment with all API endpoints without writing any code. Check the `Try It` section at the end of each document page, such as Midjourney [jobs/imagine](https://useapi.net/docs/api-v2/post-jobs-imagine#try-it) or Pika [pika/animate](https://useapi.net/docs/api-pika-v1/post-pika-animate#try-it).

For your convenience, we have published all the [source code](https://github.com/useapi/examples/tree/main/animate-midjourney-images-with-pika) used in this article. You can choose between JavaScript and Python examples. Clone this repository locally and use it as a starting point for your experiments.

### Ngrok 

Follow official [instructions](https://ngrok.com/docs/getting-started/#step-2-connect-your-account) to sign up for an ngrok account and copy your ngrok `authtoken` from your ngrok dashboard.

### Preparing Midjourney Prompts

Let's use [ChatGPT](https://chat.openai.com) to create a list of prompts. Here's our ChatGPT prompt:

> Create a JSON array containing 10 strings, each describing a popular actor or actress posing as the subject of a world-renowned, realistic portrait painting.

The output will look something like this:

```json
[
    "Create an image of George Clooney in the style of 'Self-Portrait with Felt Hat' by Vincent van Gogh.",
    "Generate a portrait of Leonardo DiCaprio akin to the 'Portrait of a Young Man' by Raphael.",
    "Craft a visual of Brad Pitt modeled after 'Self-Portrait' by Albrecht Dürer.",
    …
    "Envision Charlize Theron in the style of 'Portrait of Elisabeth of Austria' by François Clouet."
]
```

An array of prompts generated by ChatGPT needs to be saved to a locally cloned [prompts.json](https://github.com/useapi/examples/blob/main/animate-midjourney-images-with-pika/prompts.json) file.

### Executing Prompts Using the Midjourney and Pika unofficial API by useapi.net

Create a file locally in the same folder named `example.sh` with the following content:

#### [JavaScript](https://github.com/useapi/examples/blob/main/animate-midjourney-images-with-pika/example.js)
```bash
USEAPI_TOKEN="useapi API token" NGROK_AUTHTOKEN="ngrok authtoken" DISCORD="Discord token" MJ_SERVER="Midjourney Discord server" MJ_CHANNEL="Midjourney Discord channel" PIKA_CHANNEL="Pika Discord channel" node ./example.js
```

#### [Python](https://github.com/useapi/examples/blob/main/animate-midjourney-images-with-pika/example.py)
```bash
USEAPI_TOKEN="useapi API token" NGROK_AUTHTOKEN="ngrok authtoken" DISCORD="Discord token" MJ_SERVER="Midjourney Discord server" MJ_CHANNEL="Midjourney Discord channel" PIKA_CHANNEL="Pika Discord channel" python3 ./example.py

```

Execute it from the command line like this: `./example.sh` and observe the magic of the API. 

The generated images and videos will be saved locally. You may proceed with the generation process within a Discord channel to further refine your creations. Alternatively, you can continue automate the process by using the [jobs/button](https://useapi.net/docs/api-v2/post-jobs-button) along with [Pika](https://useapi.net/docs/api-pika-v1), following the same process as demonstrated above.

### Examples

Sample image generated by Midjourney    
![](https://useapi.net/assets/images/articles/animate-midjourney-images-with-pika-sample.png)

Text + image animation by Pika   
  
<video id="example" autoplay muted loop playsinline>
  <source src="https://useapi.net/assets/images/articles/animate-midjourney-images-with-pika-sample.mp4" type="video/mp4"/>
</video>

### Conclusion

Visit our [Discord Server](https://discord.gg/w28uK3cnmF) for any support questions and concerns. 

We regularly post guides and tutorials on the [YouTube Channel](https://www.youtube.com/@midjourneyapi).